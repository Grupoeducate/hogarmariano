<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestros Equipos - Misión 10 de Agosto</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        :root {
            --color-primario: #0d2c54;
            --color-secundario: #fca311;
            --color-texto: #333;
            --color-fondo: #f4f7f9;
            --color-blanco: #ffffff;
            --color-progreso-positivo: '#2a9d8f';
            --color-progreso-negativo: '#e76f51';
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background-color: var(--color-fondo);
            color: var(--color-texto);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            padding: 2rem;
            margin: 0 auto;
            box-sizing: border-box;
        }

        h1, h2 {
            text-align: center;
            color: var(--color-primario);
            font-weight: 700;
        }

        h1 {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }

        h2 {
            font-size: 2rem;
            margin-top: 4rem;
            margin-bottom: 0.5rem;
        }
        
        .intro-text {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 2rem auto;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .chart-card {
            background-color: var(--color-blanco);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .navigation {
            text-align: center;
            margin-top: 3rem;
        }

        .cta-button {
            display: inline-block;
            background-color: var(--color-primario);
            color: var(--color-blanco);
            padding: 1rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 700;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .apexcharts-yaxis-label {
            font-weight: 600;
        }

        /* --- ESTILOS RESPONSIVE --- */
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
            .intro-text { font-size: 1rem; }
            .chart-card { padding: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Tres Equipos, una Meta</h1>
        
        <!-- SECCIÓN 1: PODIO DE RESULTADOS -->
        <h2>El Panorama de Nuestros Equipos</h2>
        <p class="intro-text">
            Aquí vemos el desempeño promedio de cada grupo en la prueba Master 11. Esto nos ayuda a entender el punto de partida de cada equipo para esta recta final. Más que un ranking, es una fotografía para identificar dónde podemos aprender unas de otras.
        </p>
        <div class="chart-card">
            <div id="podiumChart"></div>
        </div>

        <!-- SECCIÓN 2: CAMPEONES DEL PROGRESO -->
        <h2>¡Celebrando el Esfuerzo! Nuestro Crecimiento</h2>
        <p class="intro-text">
            Un resultado es una foto, pero el progreso es la película completa. Este gráfico muestra cómo evolucionó cada grupo entre la primera y la segunda prueba. Es la evidencia más clara de que su trabajo y dedicación han valido la pena. ¡Un aplauso por el crecimiento de 11-1 y 11-3 y un llamado a la acción para 11-2!
        </p>
        <div class="chart-card">
            <div id="progressChart"></div>
        </div>

        <!-- SECCIÓN 3: ESPECIALIDADES POR EQUIPO -->
        <h2>El Talento en Detalle: ¿En qué Área Lidera tu Grupo?</h2>
        <p class="intro-text">
            Cada equipo ha desarrollado fortalezas únicas. Este análisis nos muestra qué grupo lidera el desempeño en cada una de las cinco áreas de la prueba (Master 11). Es la oportunidad perfecta para que los grupos compartan sus mejores estrategias.
        </p>
        <div class="chart-card">
            <div id="areaLeadersChart"></div>
        </div>

        <nav class="navigation">
            <a href="pagina3.html" class="cta-button">Ver la Misión de mi Grupo</a>
        </nav>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function() {

        // **AQUÍ ESTÁ LA CORRECCIÓN CLAVE**
        // Definimos los colores directamente en una variable de JavaScript
        const groupColors = ['#008FFB', '#FEB019', '#00E396']; // Azul, Naranja, Verde

        // --- GRÁFICO 1: PODIO DE RESULTADOS ---
        var podiumOptions = {
          series: [{
            name: 'Puntaje Global',
            data: [283.4, 280.9, 316.3]
          }],
          chart: {
            type: 'bar',
            height: 350,
            toolbar: { show: false }
          },
          plotOptions: {
            bar: {
              distributed: true,
              borderRadius: 4,
              horizontal: false,
            }
          },
          colors: groupColors, // Usamos la variable de JavaScript
          dataLabels: {
            enabled: true,
            formatter: (val) => val.toFixed(1),
          },
          legend: {
            show: false
          },
          xaxis: {
            categories: ['Grupo 11-1', 'Grupo 11-2', 'Grupo 11-3'],
            labels: { style: { fontSize: '14px', fontWeight: 600 } }
          },
          yaxis: {
            title: { text: 'Puntaje Global Master 11' }
          },
          title: {
            text: 'Puntaje Global Promedio por Grupo (Master 11)',
            align: 'center',
            style: { fontSize: '18px', color: 'var(--color-primario)' }
          },
        };
        var podiumChart = new ApexCharts(document.querySelector("#podiumChart"), podiumOptions);
        podiumChart.render();

        // --- GRÁFICO 2: CAMPEONES DEL PROGRESO ---
        var progressOptions = {
          series: [{
            name: 'Prueba PI',
            data: [272.6, 286.7, 307.2]
          }, {
            name: 'Prueba Master 11',
            data: [283.4, 280.9, 316.3]
          }],
          chart: {
            type: 'bar',
            height: 400,
            toolbar: { show: true }
          },
          plotOptions: {
            bar: {
              horizontal: false,
              columnWidth: '60%',
              dataLabels: {
                  position: 'top',
              },
            }
          },
          dataLabels: {
            enabled: true,
            formatter: (val) => val.toFixed(1),
            offsetY: -20,
            style: {
              fontSize: '12px',
              colors: ["#304758"]
            }
          },
          stroke: {
            show: true,
            width: 2,
            colors: ['transparent']
          },
          xaxis: {
            categories: ['Grupo 11-1', 'Grupo 11-2', 'Grupo 11-3'],
          },
          yaxis: {
            title: {
              text: 'Puntaje Global Promedio'
            },
            min: 250
          },
          fill: {
            opacity: 1
          },
          legend: {
            position: 'top',
          },
          title: {
            text: 'Evolución de Puntaje Global (PI vs. Master 11)',
            align: 'center',
            style: { fontSize: '18px', color: 'var(--color-primario)' }
          },
          annotations: {
                points: [
                    { x: 'Grupo 11-1', y: 288, label: { text: '+10.8', style: { background: '#2a9d8f', fontSize: '14px', fontWeight: 600, cssClass: 'apexcharts-point-annotation-label', }}},
                    { x: 'Grupo 11-2', y: 291, label: { text: '-5.8', style: { background: '#e76f51', fontSize: '14px', fontWeight: 600, cssClass: 'apexcharts-point-annotation-label', }}},
                    { x: 'Grupo 11-3', y: 321, label: { text: '+9.1', style: { background: '#2a9d8f', fontSize: '14px', fontWeight: 600, cssClass: 'apexcharts-point-annotation-label', }}}
                ]
            }
        };
        var progressChart = new ApexCharts(document.querySelector("#progressChart"), progressOptions);
        progressChart.render();

        // --- GRÁFICO 3: LÍDERES POR ÁREA ---
        var areaLeadersOptions = {
          series: [
            { name: 'Grupo 11-1', data: [46.0, 61.0, 66.9, 55.3, 64.6] },
            { name: 'Grupo 11-2', data: [36.4, 50.5, 66.9, 55.3, 64.6] },
            { name: 'Grupo 11-3', data: [49.4, 60.2, 75.1, 65.5, 67.1] }
          ],
          chart: {
            type: 'bar',
            height: 450,
            toolbar: { show: true }
          },
          plotOptions: {
            bar: {
              horizontal: true,
              dataLabels: {
                position: 'top',
              },
            }
          },
          colors: groupColors, // Usamos la variable de JavaScript
          dataLabels: {
            enabled: true,
            offsetX: 35,
            style: {
              fontSize: '12px',
              colors: ['#333']
            },
            formatter: (val) => val.toFixed(1),
          },
          stroke: {
            show: true,
            width: 1,
            colors: ['#fff']
          },
          tooltip: {
            shared: true,
            intersect: false
          },
          xaxis: {
            categories: ['Matemáticas', 'Lectura Crítica', 'Sociales', 'Ciencias', 'Inglés'],
          },
          title: {
            text: 'Liderazgo por Área (Prueba Master 11)',
            align: 'center',
            style: { fontSize: '18px', color: 'var(--color-primario)' }
          },
           legend: {
            position: 'top',
          },
        };
        var areaLeadersChart = new ApexCharts(document.querySelector("#areaLeadersChart"), areaLeadersOptions);
        areaLeadersChart.render();
    });
    </script>
</body>
</html>
